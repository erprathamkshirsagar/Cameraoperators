{% extends 'base.html' %}
{% block content %}

<style>
/* ========= Page ========= */
.page-wrap {
    background: #ffffff;
    min-height: 80vh;
    padding: 32px 0;
}

/* ========= Card ========= */
.card-ui {
    background: #ffffff;
    border-radius: 13px;
    border: 1px solid #e5e7eb;
    box-shadow: 0 6px 16px rgba(0,0,0,.05);
    padding: 24px;   /* size feel change होते */

}

.btn-primary-custom {
    margin-top: 20px; /* वरचा gap */
    margin-bottom: 20px; /* खाली gap */
}


/* ========= Headings ========= */
.page-title {
    font-size: 24px;
    font-weight: 600;
    color: #0f172a;
}

/* ========= Form ========= */
.form-label {
    font-size: 13px;
    font-weight: 600;
    color: #374151;
    margin-bottom: 6px;
}

.form-control,
.form-select {
    font-size: 14px;
    padding: 10px 12px;
    border-radius: 8px;
    border: 1px solid #d1d5db;
}

.form-control:focus,
.form-select:focus {
    border-color: #2563eb;
    box-shadow: none;
}

/* ========= Button ========= */
.btn-primary-custom {
    background: #2563eb;
    color: #fff;
    padding: 10px 0;
    font-weight: 500;
    border-radius: 8px;
    border: none;
}

.btn-primary-custom:hover {
    background: #1e40af;
}

/* ========= Table ========= */
.table thead th {
    font-size: 12px;
    text-transform: uppercase;
    letter-spacing: .05em;
    color: #64748b;
    background: #f8fafc;
    border-bottom: 1px solid #e5e7eb;
}

.table tbody td {
    font-size: 14px;
    color: #0f172a;
    padding: 14px;
    vertical-align: middle;
}

/* ========= Action ========= */
.action-delete {
    color: #dc2626;
    font-size: 13px;
    font-weight: 500;
    text-decoration: none;
}

.action-delete:hover {
    text-decoration: underline;
}

/* ========= Empty ========= */
.empty-text {
    color: #94a3b8;
    font-size: 14px;
}
</style>


<div class="page-wrap">
<div class="container">

    <!-- Header -->
    <div class="mb-4">
        <h2 class="page-title">Skills & Rates</h2>
        <p class="text-muted mb-0">Manage your professional services and pricing</p>
    </div>

    <div class="row g-4">

        <!-- Add Skill -->
        <div class="col-lg-4">
            <div class="card-ui">
                <div class="p-3 border-bottom">
<h6 class="fw-semibold mb-0" style="text-align: center;">Add New Skill</h6>
                </div>

                <div class="p-4">
                    <form method="POST">
                        {% csrf_token %}

                        <div class="mb-3">
                            <label class="form-label">Skill Category</label>
                            <select name="category" class="form-select" required>
                                <option value="" disabled selected>Select skill</option>
                                {% for cat in form.category.field.queryset %}
                                    <option value="{{ cat.id }}">{{ cat.name }}</option>
                                {% endfor %}
                            </select>
                        </div>

                       <div class="mb-4">
    <label class="form-label">Rate (₹)</label>
    <input type="number" name="rate"
           class="form-control"
           placeholder="Enter amount"
           min="0" required>
</div>

<div class="text-center mt-4 mb-4">
    <button type="submit" class="btn btn-primary-custom px-5 py-2">
        Add Skill
    </button>
</div>

                    </form>
                </div>
            </div>
        </div>

        <!-- Skill List -->
        <div class="col-lg-8">
            <div class="card-ui">
                <div class="p-3 border-bottom">
                    <h6 class="fw-semibold mb-0">Your Skills</h6>
                </div>

                <div class="table-responsive">
                    <table class="table mb-0">
                        <thead>
                        <tr>
                            <th>Skill</th>
                            <th>Rate</th>
                            <th class="text-end">Action</th>
                        </tr>
                        </thead>
                        <tbody>

                        {% for skill in skills %}
                        <tr>
                            <td>{{ skill.category.name }}</td>
                            <td>₹{{ skill.rate|floatformat:0 }}</td>
                            <td class="text-end">
                                <a href="{% url 'delete_skill' skill.id %}"
                                   class="action-delete"
                                   onclick="return confirm('Delete this skill?')">
                                    Delete
                                </a>
                            </td>
                        </tr>
                        {% empty %}
                        <tr>
                            <td colspan="3" class="text-center py-4">
                                <span class="empty-text">No skills added yet.</span>
                            </td>
                        </tr>
                        {% endfor %}

                        </tbody>
                    </table>
                </div>
            </div>
        </div>

    </div>
</div>
</div>

{% endblock %}
